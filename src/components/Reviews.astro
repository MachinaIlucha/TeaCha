---
/**
 * TeaCha website
 * Design & development: Ілля Пінчук Вадимович
 * © 2026. All rights reserved.
 */

const base = import.meta.env.BASE_URL

const reviewsBase = [
  {
    name: "Анастасія",
    text: "Все класно структуровано. Урок проходить на дошці, де є вправи, схеми та ігри. Пояснення дуже зрозумілі, темп комфортний.",
    img: `${base}img/review-1.jpg`,
  },
  {
    name: "Олена",
    text: "Спочатку хвилювалась, бо складно знайти свого викладача, але була приємно здивована, що з першого заняття почуваюсь комфортно.",
    img: `${base}img/review-2.jpg`,
  },
  {
    name: "Марія",
    text: "Дуже подобається, що багато розмовної практики і все пояснюється простими словами. За кілька занять вже стало легше говорити.",
    img: `${base}img/review-3.jpg`,
  },
  {
    name: "Дмитро",
    text: "Зручний формат і чітка структура. Домашні завдання підсилюють тему, а на уроці завжди є приклади з життя — так запам’ятовується краще.",
    img: `${base}img/review-4.jpg`,
  },
]

const reviews =
  reviewsBase.length >= 3
    ? reviewsBase
    : Array.from({ length: 3 }, (_, i) => reviewsBase[i % reviewsBase.length])
---

<section class="reviews" id="reviews">
  <div class="container">
    <div class="reviews__head">
      <h2 class="h2">ВІДГУКИ</h2>

      <div class="reviews__controls" aria-hidden="true">
        <button class="circleBtn" data-reviews-prev aria-label="Попередній відгук">←</button>
        <button class="circleBtn" data-reviews-next aria-label="Наступний відгук">→</button>
      </div>
    </div>

    <div class="reviews__frame">
      <div class="reviews__bgMark" aria-hidden="true">S</div>

      <div class="reviewsMobile" data-reviews-mobile>
        <div class="reviewsMobile__viewport">
          <div class="reviewsMobile__track">
            {reviews.map((r) => (
              <article class="mSlide">
                <div class="mMedia">
                  <img src={r.img} alt={`Фото: ${r.name}`} loading="lazy" />
                </div>

                <div class="mTextCard">
                  <p class="mText">{r.text}</p>
                  <div class="mSig">— {r.name}</div>

                  <div class="mDecor" aria-hidden="true">
                    <div class="bubble" />
                    <div class="bubble bubble--small" />
                  </div>
                </div>
              </article>
            ))}
          </div>
        </div>
      </div>

      <div class="reviewsDesk" data-reviews-desk>
        <div class="deskGrid deskAnim" data-desk-anim>
          <div class="deskMedia deskStack">
            <img class="deskLayer is-front" data-front-img alt="" />
            <img class="deskLayer is-back" data-back-img alt="" />
          </div>

          <div class="deskTextCard deskStack">
            <div class="deskLayer is-front" data-front-text>
              <p class="deskText" data-front-p></p>
              <div class="deskSig" data-front-name></div>
            </div>

            <div class="deskLayer is-back" data-back-text>
              <p class="deskText" data-back-p></p>
              <div class="deskSig" data-back-name></div>
            </div>

            <div class="deskDecor" aria-hidden="true">
              <div class="bubble"></div>
              <div class="bubble bubble--small"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="application/json" data-reviews-json>
    {JSON.stringify(reviews)}
  </script>
</section>
