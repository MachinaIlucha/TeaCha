/*!
 * TeaCha website
 * Design & development: Ілля Пінчук Вадимович
 * © 2026. All rights reserved.
 */

.floating-cta {
  position: fixed;
  z-index: 9999;
  border: 0;
  cursor: pointer;

  /* идеальный круг */
  width: 132px;
  height: 132px;
  border-radius: 50%;

  /* ГРАДИЕНТ СТРОГО ОТ --red */
  //   background: linear-gradient(
  //     180deg,
  //     rgba(255, 80, 80, 1) 0%,
  //     var(--red) 55%,
  //     rgba(180, 20, 32, 1) 100%
  //   );
  background-color: var(--red);

  color: var(--white);

  box-shadow: 0 18px 46px rgba(219, 31, 50, 0.28),
    0 10px 22px rgba(0, 0, 0, 0.1);

  display: grid;
  place-items: center;

  font-weight: 900;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  line-height: 1.05;
  text-align: center;

  animation: cta-pulse 1.7s ease-in-out infinite;
  will-change: transform, box-shadow;

  /* блик */
  &::before {
    content: "";
    position: absolute;
    inset: 6px;
    border-radius: 50%;
    // background: radial-gradient(
    //   circle at 30% 25%,
    //   rgba(255, 255, 255, 0.35),
    //   rgba(255, 255, 255, 0) 55%
    // );
    pointer-events: none;
  }

  /* тонкий ободок */
  &::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 50%;
    box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.14);
    pointer-events: none;
  }
}

/* текст по диагонали */
.floating-cta > span {
  display: block;
  padding: 0 10px;
  font-size: 14px;
}

/* Mobile */
.floating-cta {
  right: 16px;
  bottom: 16px;

  --cta-shift: translate3d(0, 0, 0);
}

body.modal-open .floating-cta {
  opacity: 0;
  pointer-events: none;
  transform: scale(0.9);
  animation: none;
}

/* Desktop */
@media (min-width: 641px) {
  .floating-cta {
    right: 10px;
    bottom: auto;
    top: 170px;

    --cta-shift: translateY(-50%); /* ✅ вместо transform */
  }
}

.floating-cta:active {
  transform: var(--cta-shift) scale(0.97);
}

@media (max-width: 640px) {
  body.modal-open .floating-cta {
    transform: scale(0.9);
  }

  .floating-cta:active {
    transform: scale(0.97);
  }
}

@keyframes cta-pulse {
  0% {
    transform: var(--cta-shift) scale(1);
    box-shadow: 0 18px 46px rgba(219, 31, 50, 0.24),
      0 10px 22px rgba(0, 0, 0, 0.1);
  }
  50% {
    transform: var(--cta-shift) scale(1.06);
    box-shadow: 0 26px 68px rgba(219, 31, 50, 0.38),
      0 14px 30px rgba(0, 0, 0, 0.12);
  }
  100% {
    transform: var(--cta-shift) scale(1);
  }
}

@media (prefers-reduced-motion: reduce) {
  .floating-cta {
    animation: none;
    transition: none;
  }
}
